import { useState } from 'react';
import { action } from '@storybook/addon-actions';
import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import { RadioToggle } from './RadioToggle';
import { Box } from '../Box/Box';

<Meta
  title="Components/RadioToggle/Overview"
  component={RadioToggle}
  parameters={{
    controls: { hideNoControlsWarning: true },
  }}
/>

# RadioToggle

Use a RadioToggle when a user can render one of two states. If there are more than two options, use [Tabs](?path=/docs/components-tabs-overview--default-story) instead.

## Props

<ArgsTable of={RadioToggle} />

## Option Type

The RadioToggle uses radio inputs under the hood, and so the type of the `RadioToggleOption` resembles the props required to populate an input:

```
{
  value: RadioToggleProps['value'];
  label: string | number;
  id: string | number;
  name: string;
};
```

## Default

All that is required to render a basic version of the RadioToggle is the group's `name`, an onchange event handler passed to the `onChange` prop, and a list of options passed to the `options` prop. Each option must include a unique `id`, a `value`, and a `label`.

<Canvas isExpanded>
  <Story name="Default">
    {() => {
      const [value, setValue] = useState('chocolate');
      const options = [
        {
          id: 'chocolate',
          value: 'chocolate',
          label: 'Chocolate',
        },
        {
          id: 'strawberry',
          value: 'strawberry',
          label: 'Strawberry',
        },
      ];
      return (
        <RadioToggle
          name="noTitleOrDescription"
          value={value}
          onChange={event => { console.log(event.target.value); setValue(event.target.value); }}
          options={options}
        />
      );
    }}
  </Story>
</Canvas>

## Sizes

Use the size prop.

<Canvas isExpanded>
  <Story name="Sizes">
    {() => {
      const [values, setValues] = useState({
        0: 'chocolate',
        1: 'chocolate',
        2: 'chocolate',
      });
      const generateOptions = (index) => [
        {
          id: `chocolate_${index}`,
          value: 'chocolate',
          label: 'Chocolate',
        },
        {
          id: `strawberry_${index}`,
          value: 'strawberry',
          label: 'Strawberry',
        },
      ];
      const sizes = ['sm', 'md', 'lg'];
      return (
        <Box childGap="md">
          {sizes.map((size, index) => (
            <RadioToggle
              key={index}
              name="sizes"
              value={values[index]}
              onChange={event => setValues({ ...values, [index]: event.target.value })}
              options={generateOptions(index)}
              size={size}
            />
          ))}
        </Box>
      );
    }}
  </Story>
</Canvas>